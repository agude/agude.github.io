You are a Senior Ruby Engineer specializing in Jekyll. I need you to fix RuboCop static analysis errors in the following file.

FILE: _plugins/environment_setter.rb
CONTEXT: This is a Jekyll Plugin (Production Code). Documentation must be clear, explaining the purpose of the Tag/Generator and how it is used in Liquid.

THE ERRORS TO FIX:
- Line 12: [Style/Documentation] Missing top-level documentation comment for `class Jekyll::EnvironmentSetterGenerator`.


--------------------------------------------------
STYLE GUIDE & INSTRUCTIONS:

1. **Documentation (Style/Documentation):**
   - **Requirement:** Every Class and Module must have a top-level comment block.
   - **Format:**
     ```ruby
     # Short summary of what this class does.
     #
     # (Optional) Detailed explanation or Liquid usage example:
     # {% my_tag param="value" %}
     class MyClass ...
     ```
   - **Quality:** Do not write "Class for X". Write "Generates X based on Y configuration."

2. **Frozen String Literals:**
   - Ensure `# frozen_string_literal: true` is the **very first line** of the file.

3. **Naming & Variables:**
   - Fix short variable names (e.g., change `l` to `logger`, `p` to `path`).
   - Use snake_case for variables and methods.

4. **Refactoring Strategy (Only if Metrics/* errors exist):**
   - **If** the error is `Metrics/MethodLength` or `Complexity`:
     - Extract logic into private helper methods (e.g., `def _helper_method`).
     - Or, extract a private helper class if state management is complex.
   - **If** there are NO metrics errors, **DO NOT** refactor the logic structure. Just fix the style/docs.

5. **Safety:**
   - **CRITICAL:** Do not change the external behavior or API of the code.
   - Do not remove existing comments unless they are the specific "rubocop:disable" comments causing issues.

--------------------------------------------------
SOURCE CODE:
```ruby
# frozen_string_literal: true

# _plugins/environment_setter.rb
# Ensures that site.config['environment'] is set from ENV['JEKYLL_ENV']
# if ENV['JEKYLL_ENV'] is present. This helps make the environment
# consistently available throughout the Jekyll build process.
#
# This *WORKS* for future plugins reading site.config['environment'] but does
# not work for pages that try to read it in Liquid.

module Jekyll
  class EnvironmentSetterGenerator < Generator
    priority :highest # Run this generator as early as possible

    def generate(site)
      original_config_env = site.config['environment']
      env_var_jekyll_env = ENV.fetch('JEKYLL_ENV', nil)

      log_current_jekyll_env(env_var_jekyll_env)

      if env_var_jekyll_env && !env_var_jekyll_env.empty?
        update_environment(site, original_config_env, env_var_jekyll_env)
      else
        log_jekyll_env_not_set(original_config_env)
      end
    end

    private

    def log_current_jekyll_env(env_var_jekyll_env)
      puts 'ENVIRONMENT_SETTER_PLUGIN: Current value of JEKYLL_ENV: ' \
           "'#{env_var_jekyll_env}'"
    end

    def update_environment(site, original_config_env, env_var_jekyll_env)
      site.config['environment'] = env_var_jekyll_env

      if original_config_env == site.config['environment']
        log_no_change_needed(site.config['environment'])
      else
        log_environment_updated(original_config_env, site.config['environment'])
      end
    end

    def log_no_change_needed(current_env)
      puts "ENVIRONMENT_SETTER_PLUGIN: site.config['environment'] already " \
           "matched ENV['JEKYLL_ENV'] ('#{current_env}'). No change needed."
    end

    def log_environment_updated(original_env, new_env)
      puts "ENVIRONMENT_SETTER_PLUGIN: Updated site.config['environment'] " \
           "from '#{original_env.inspect}' to '#{new_env}' " \
           "(based on ENV['JEKYLL_ENV'])."
    end

    def log_jekyll_env_not_set(original_config_env)
      puts "ENVIRONMENT_SETTER_PLUGIN: ENV['JEKYLL_ENV'] not found or empty. " \
           "site.config['environment'] is '#{original_config_env.inspect}'."
    end
  end
end
```

**OUTPUT:**
Return ONLY the full, valid Ruby code for the file. No markdown wrappers, no conversational filler.
